<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Pomodoro ‚Äî Emoji</title>

    <link rel="stylesheet" href="./src/css/tokens.css" />
    <link rel="stylesheet" href="./src/css/base.css" />
    <link rel="stylesheet" href="./src/css/layout.css" />
    <link rel="stylesheet" href="./src/css/app.css" />
    <link rel="stylesheet" href="./src/css/tomato.css" />
  </head>

  <body>
    <main class="app" id="app">
      <header class="topbar">
        <div class="brand">üçÖ</div>
        <div class="actions">
          <button id="themeToggle" class="icon-btn" aria-label="–¢–µ–º–∞">
            üåô
          </button>
          <button id="openSettings" class="icon-btn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            ‚öôÔ∏è
          </button>
        </div>
      </header>

      <section class="stage" aria-live="polite">
        <!-- –ö–Ω–æ–ø–∫–∞-–ø–æ–º–∏–¥–æ—Ä —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–∫–æ–ª—å—Ü–æ–º (–±–µ–∑ —Ç—Ä–µ–∫–∞) -->
        <button
          class="tomato"
          id="tomatoBtn"
          aria-label="–°—Ç–∞—Ä—Ç/–ü–∞—É–∑–∞"
          aria-pressed="false"
        >
          <svg
            class="tomato-svg"
            viewBox="0 0 320 320"
            role="img"
            aria-label="–ü–æ–º–∏–¥–æ—Ä-—Ç–∞–π–º–µ—Ä"
          >
            <defs>
              <!-- —Ç–µ–ª–æ -->
              <radialGradient id="t_body" cx="36%" cy="34%" r="70%">
                <stop offset="0%" stop-color="#ff9a82" />
                <stop offset="55%" stop-color="#ff3b30" />
                <stop offset="100%" stop-color="#c71e19" />
              </radialGradient>
              <!-- –ª–∏—Å—Ç—å—è -->
              <radialGradient id="t_leaf" cx="32%" cy="28%" r="70%">
                <stop offset="0%" stop-color="#b7f6c6" />
                <stop offset="100%" stop-color="#1aa868" />
              </radialGradient>
              <!-- –º—è–≥–∫–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–Ω—å -->
              <filter id="inner" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="3" result="b" />
                <feComposite
                  in="SourceGraphic"
                  in2="b"
                  operator="arithmetic"
                  k2="1"
                  k3="0.8"
                />
              </filter>
              <!-- –±–ª–∏–∫–æ–≤–∞—è –º–∞—Å–∫–∞ -->
              <linearGradient id="hi" x1="0" x2="1">
                <stop offset="0%" stop-color="rgba(255,255,255,.55)" />
                <stop offset="100%" stop-color="rgba(255,255,255,0)" />
              </linearGradient>
            </defs>

            <!-- –ü–†–û–ì–†–ï–°–° (—Ç–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω—è–µ–º–∞—è —á–∞—Å—Ç—å) -->
            <circle
              id="progressArc"
              cx="160"
              cy="166"
              r="138"
              fill="none"
              stroke="currentColor"
              stroke-width="8"
              stroke-linecap="round"
              style="transform: rotate(-90deg); transform-origin: 160px 166px"
            />

            <!-- –ª–µ–≥–∫–∞—è —Ç–µ–Ω—å –ø–æ–¥ –ø–ª–æ–¥–æ–º -->
            <ellipse cx="160" cy="270" rx="92" ry="16" fill="rgba(0,0,0,.28)" />

            <!-- –ø–ª–æ–¥ -->
            <circle
              cx="160"
              cy="166"
              r="124"
              fill="url(#t_body)"
              filter="url(#inner)"
            />
            <!-- –±–ª–∏–∫–æ–≤–∞—è –¥—É–≥–∞ -->
            <path
              d="M80,120 a70,48 0 0,1 48,-38"
              stroke="url(#hi)"
              stroke-width="10"
              fill="none"
              opacity=".65"
              stroke-linecap="round"
            />

            <!-- –ª–∏—Å—Ç—å—è -->
            <g transform="translate(160,60)">
              <path
                d="M-74,6 C-38,-10 -20,-14 0,-12 C-24,8 -40,14 -74,6"
                fill="url(#t_leaf)"
              />
              <path
                d="M74,6 C38,-10 20,-14 0,-12 C24,8 40,14 74,6"
                fill="url(#t_leaf)"
              />
            </g>

            <!-- –ª–∏—Ü–æ -->
            <g class="face">
              <g class="eye eye-l">
                <circle cx="118" cy="150" r="17" fill="#161616" />
                <circle cx="123" cy="146" r="5.5" fill="#fff" />
              </g>
              <g class="eye eye-r">
                <circle cx="202" cy="150" r="17" fill="#161616" />
                <circle cx="207" cy="146" r="5.5" fill="#fff" />
              </g>
              <path
                class="mouth"
                d="M122 196 q38 34 76 0"
                stroke="#1a1a1a"
                stroke-width="10"
                fill="none"
                stroke-linecap="round"
              />
            </g>
          </svg>
        </button>

        <div class="readout">
          <div id="time" class="time">25:00</div>
          <div id="phase" class="phase">–§–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è üéØ</div>
        </div>
      </section>

      <footer class="credit" aria-hidden="true"></footer>
    </main>

    <!-- Off-canvas –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <aside id="settingsPanel" class="panel" aria-hidden="true">
      <div class="panel__head">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <button id="closeSettings" class="icon-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          ‚úï
        </button>
      </div>

      <div class="panel__body">
        <div class="setting">
          <label class="setting__label">–ü—Ä–µ—Å–µ—Ç</label>
          <select id="preset" class="sel">
            <option value="25-5">25 / 5</option>
            <option value="50-10">50 / 10</option>
            <option value="custom">–ö–∞—Å—Ç–æ–º‚Ä¶</option>
          </select>
        </div>

        <div id="customRow" class="setting hidden">
          <label class="setting__label">–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã</label>
          <div class="grid2">
            <label class="pill in">
              <span>–§–æ–∫—É—Å (–º–∏–Ω)</span>
              <input id="focusMin" type="number" min="1" max="120" value="25" />
            </label>
            <label class="pill in">
              <span>–ü–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)</span>
              <input id="breakMin" type="number" min="1" max="60" value="5" />
            </label>
          </div>
          <button id="applyCustom" class="btn primary full">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>

        <div class="setting">
          <label class="setting__row">
            <span>–ê–≤—Ç–æ-–ø–µ—Ä–µ—Ö–æ–¥</span>
            <input id="autoToggle" class="switch" type="checkbox" checked />
          </label>
        </div>

        <div class="setting">
          <label class="setting__row">
            <span>–ó–≤—É–∫</span>
            <input id="soundToggle" class="switch" type="checkbox" checked />
          </label>
        </div>

        <div class="setting">
          <button id="resetBtn" class="btn ghost full">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </div>
    </aside>

    <div id="backdrop" class="backdrop" aria-hidden="true"></div>

    <!-- –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã (–±–µ–∑ 404) -->
    <audio
      id="sfxStart"
      preload="auto"
      src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGlin...AAAA"
    ></audio>
    <audio
      id="sfxEnd"
      preload="auto"
      src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGlin...AAAA"
    ></audio>

    <script type="module" src="./src/js/app.js"></script>
  </body>
</html>
