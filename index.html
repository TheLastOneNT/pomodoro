<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Pomodoro ‚Äî Emoji</title>

    <!-- —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="./src/css/tokens.css" />
    <link rel="stylesheet" href="./src/css/base.css" />
    <link rel="stylesheet" href="./src/css/layout.css" />
    <link rel="stylesheet" href="./src/css/app.css" />
    <link rel="stylesheet" href="./src/css/tomato.css" />
    <link rel="stylesheet" href="./src/css/sidebar.css" />
  </head>

  <body class="night">
    <main class="app" id="app">
      <header class="topbar">
        <div class="brand">üçÖ</div>
        <div class="actions">
          <button id="themeToggle" class="icon-btn" aria-label="–¢–µ–º–∞">
            üåô
          </button>
          <button id="openSettings" class="icon-btn" aria-label="–ú–µ–Ω—é">
            ‚ò∞
          </button>
        </div>
      </header>

      <section class="stage" aria-live="polite">
        <button
          class="tomato"
          id="tomatoBtn"
          aria-label="–°—Ç–∞—Ä—Ç/–ü–∞—É–∑–∞"
          aria-pressed="false"
        >
          <svg
            class="tomato__progress"
            viewBox="0 0 360 360"
            aria-hidden="true"
          >
            <circle
              id="progressArc"
              cx="180"
              cy="180"
              r="168"
              fill="none"
              stroke="currentColor"
              stroke-width="10"
              stroke-linecap="round"
              style="transform: rotate(-90deg); transform-origin: 180px 180px"
            />
          </svg>

          <img
            class="tomato__img"
            src="./assets/img/tomato.png"
            alt="–ü–æ–º–∏–¥–æ—Ä"
            draggable="false"
          />
          <div class="tomato__shadow" aria-hidden="true"></div>
        </button>

        <div class="readout">
          <div id="time" class="time">25:00</div>
          <div id="phase" class="phase">–û—Ç–¥—ã—Ö–∞–µ–º üòå</div>
        </div>
      </section>

      <footer class="credit" aria-hidden="true"></footer>
    </main>

    <!-- –º–µ–Ω—é -->
    <div id="sidebarBackdrop" class="sb-backdrop" aria-hidden="true"></div>
    <aside id="sidebar" class="sb" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" aria-hidden="true">
      <div class="sb__inner">
        <!-- –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ -->
        <header class="sb__brand">
          <div class="logo">üçÖ</div>
          <div class="title">
            <strong>–ü–ª–∞–Ω –∑–∞–Ω—è—Ç–∏–π</strong>
            <span>–Ω–∞—Å—Ç—Ä–æ–π –∏–ª–∏ –≤—ã–±–µ—Ä–∏</span>
          </div>
        </header>

        <hr class="sb__divider" />

        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="seg" role="tablist" aria-label="–ü–ª–∞–Ω –∑–∞–Ω—è—Ç–∏–π">
          <button
            class="seg__btn is-active"
            data-mode="build"
            role="tab"
            aria-selected="true"
          >
            –ù–∞—Å—Ç—Ä–æ–∏—Ç—å
          </button>
          <button
            class="seg__btn"
            data-mode="pick"
            role="tab"
            aria-selected="false"
          >
            –í—ã–±—Ä–∞—Ç—å
          </button>
        </div>

        <!-- –í–ö–õ–ê–î–ö–ê: –ù–ê–°–¢–†–û–ò–¢–¨ -->
        <section class="pane is-open" data-pane="build">
          <div class="grid2">
            <label class="pill in">
              <span>–§–æ–∫—É—Å, –º–∏–Ω</span>
              <input
                id="bFocus"
                type="number"
                min="1"
                max="180"
                step="1"
                value="25"
              />
            </label>
            <label class="pill in">
              <span>–ü–µ—Ä–µ—Ä—ã–≤, –º–∏–Ω</span>
              <input
                id="bBreak"
                type="number"
                min="1"
                max="60"
                step="1"
                value="5"
              />
            </label>
          </div>

          <label class="pill in">
            <span>–¶–∏–∫–ª—ã</span>
            <input
              id="bCycles"
              type="number"
              min="1"
              max="20"
              step="1"
              value="4"
            />
          </label>

          <div class="plan__meta" id="bMeta">25/5 √ó4 ‚âà 120 –º–∏–Ω</div>

          <div id="bEditTag" class="edit-tag hidden">
            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: <b id="bEditName"></b>
          </div>

          <div class="row-between">
            <button id="bApply" class="btn">‚ñ∂ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button id="bSaveToggle" class="btn ghost">
              üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–ª–∞–Ω
            </button>
          </div>

          <!-- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ -->
          <div id="bSaveBlock" class="save-row hidden">
            <label class="pill in">
              <span>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞</span>
              <input
                id="bName"
                type="text"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£—Ç—Ä–æ 2√ó25/5"
              />
            </label>
            <div class="row-between">
              <span class="plan__hint">–°–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ ¬´–ü–ª–∞–Ω—ã¬ª</span>
              <div class="row-between" style="gap: 8px">
                <button id="bCancelEdit" class="btn ghost hidden">
                  –û—Ç–º–µ–Ω–∞
                </button>
                <button id="bSave" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              </div>
            </div>
          </div>
        </section>

        <!-- –í–ö–õ–ê–î–ö–ê: –í–´–ë–†–ê–¢–¨ -->
        <section class="pane" data-pane="pick">
          <div class="list scroll" id="listPlans"></div>
        </section>

        <div class="sb__spacer"></div>

        <div class="sb__footer">
          <button id="sbClose" class="sb__logout">
            ‚úï <span>–ó–∞–∫—Ä—ã—Ç—å</span>
          </button>
        </div>
      </div>
    </aside>

    <!-- –∑–≤—É–∫–∏ -->
    <audio
      id="sfxStart"
      preload="auto"
      src="data:audio/mp3;base64,//uQZ..."
    ></audio>
    <audio
      id="sfxEnd"
      preload="auto"
      src="data:audio/mp3;base64,//uQZ..."
    ></audio>

    <!-- –ª–æ–≥–∏–∫–∞ -->
    <script type="module" src="./src/js/sidebar.js"></script>
    <script type="module" src="./src/js/app.js"></script>
  </body>
</html>
