<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Pomodoro ‚Äî Emoji</title>

    <link rel="stylesheet" href="./src/css/tokens.css" />
    <link rel="stylesheet" href="./src/css/base.css" />
    <link rel="stylesheet" href="./src/css/layout.css" />
    <link rel="stylesheet" href="./src/css/app.css" />
    <link rel="stylesheet" href="./src/css/tomato.css" />
  </head>

  <body>
    <main class="app" id="app">
      <header class="topbar">
        <div class="brand">üçÖ</div>
        <div class="actions">
          <button id="themeToggle" class="icon-btn" aria-label="–¢–µ–º–∞">
            üåô
          </button>
          <button id="openSettings" class="icon-btn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            ‚öôÔ∏è
          </button>
        </div>
      </header>

      <section class="stage" aria-live="polite">
        <!-- –ö–Ω–æ–ø–∫–∞-—Ç–∞–π–º–µ—Ä -->
        <button
          class="tomato"
          id="tomatoBtn"
          aria-label="–°—Ç–∞—Ä—Ç/–ü–∞—É–∑–∞"
          aria-pressed="false"
        >
          <!-- –î—É–≥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
          <svg class="tomato__progress" viewBox="0 0 360 360">
            <circle
              id="progressArc"
              cx="180"
              cy="180"
              r="168"
              fill="none"
              stroke="currentColor"
              stroke-width="10"
              stroke-linecap="round"
              style="transform: rotate(-90deg); transform-origin: 180px 180px"
            />
          </svg>

          <!-- PNG —Ç–µ–ª–æ -->
          <img
            class="tomato__img"
            src="./assets/img/tomato.png"
            alt="–ü–æ–º–∏–¥–æ—Ä"
            draggable="false"
          />

          <!-- –¢–µ–Ω—å -->
          <div class="tomato__shadow"></div>
        </button>

        <div class="readout">
          <div id="time" class="time">25:00</div>
          <div id="phase" class="phase">–û—Ç–¥—ã—Ö–∞–µ–º üòå</div>
        </div>
      </section>

      <footer class="credit" aria-hidden="true"></footer>
    </main>

    <!-- Off-canvas –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <aside id="settingsPanel" class="panel" aria-hidden="true">
      <div class="panel__head">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <button id="closeSettings" class="icon-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          ‚úï
        </button>
      </div>

      <div class="panel__body">
        <div class="setting">
          <label class="setting__label">–ü—Ä–µ—Å–µ—Ç</label>
          <select id="preset" class="sel">
            <option value="25-5">25 / 5</option>
            <option value="50-10">50 / 10</option>
            <option value="custom">–ö–∞—Å—Ç–æ–º‚Ä¶</option>
          </select>
        </div>

        <div id="customRow" class="setting hidden">
          <label class="setting__label">–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã</label>
          <div class="grid2">
            <label class="pill in">
              <span>–§–æ–∫—É—Å (–º–∏–Ω)</span>
              <input id="focusMin" type="number" min="1" max="120" value="25" />
            </label>
            <label class="pill in">
              <span>–ü–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)</span>
              <input id="breakMin" type="number" min="1" max="60" value="5" />
            </label>
          </div>
          <button id="applyCustom" class="btn primary full">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>

        <div class="setting">
          <label class="setting__row">
            <span>–ê–≤—Ç–æ-–ø–µ—Ä–µ—Ö–æ–¥</span>
            <input id="autoToggle" class="switch" type="checkbox" checked />
          </label>
        </div>

        <div class="setting">
          <label class="setting__row">
            <span>–ó–≤—É–∫</span>
            <input id="soundToggle" class="switch" type="checkbox" checked />
          </label>
        </div>

        <div class="setting">
          <button id="resetBtn" class="btn ghost full">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </div>
    </aside>

    <div id="backdrop" class="backdrop" aria-hidden="true"></div>

    <!-- –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã (–±–µ–∑ 404) -->
    <audio
      id="sfxStart"
      preload="auto"
      src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGlin...AAAA"
    ></audio>
    <audio
      id="sfxEnd"
      preload="auto"
      src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGlin...AAAA"
    ></audio>

    <script type="module" src="./src/js/app.js"></script>
  </body>
</html>
