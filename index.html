<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Pomodoro ‚Äî Emoji</title>

    <link rel="stylesheet" href="./src/css/tokens.css" />
    <link rel="stylesheet" href="./src/css/base.css" />
    <link rel="stylesheet" href="./src/css/layout.css" />
    <link rel="stylesheet" href="./src/css/app.css" />
    <link rel="stylesheet" href="./src/css/tomato.css" />
  </head>

  <body>
    <main class="app" id="app">
      <header class="topbar">
        <div class="brand">üçÖ</div>
        <div class="actions">
          <button id="themeToggle" class="icon-btn" aria-label="–¢–µ–º–∞">
            üåô
          </button>
          <button id="openSettings" class="icon-btn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            ‚öôÔ∏è
          </button>
        </div>
      </header>

      <section class="stage" aria-live="polite">
        <!-- –ö–Ω–æ–ø–∫–∞-–ø–æ–º–∏–¥–æ—Ä: PNG-—Ç–µ–ª–æ + –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ª–∏—Ü–æ + –ø—Ä–æ–≥—Ä–µ—Å—Å-–¥—É–≥–∞ -->
        <button
          class="tomato3d"
          id="tomatoBtn"
          aria-label="–°—Ç–∞—Ä—Ç/–ü–∞—É–∑–∞"
          aria-pressed="false"
        >
          <!-- —Ç–µ–ª–æ (PNG) -->
          <img
            class="tomato3d__img"
            src="./assets/img/tomato.png"
            alt="–ü–æ–º–∏–¥–æ—Ä"
          />

          <!-- —Ç–µ–Ω—å –ø–æ–¥ –ø–ª–æ–¥–æ–º -->
          <div class="tomato3d__shadow"></div>

          <!-- –ü–†–û–ì–†–ï–°–° (—Ç–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω—è–µ–º–∞—è —á–∞—Å—Ç—å; –±–µ–∑ —Ç—Ä–µ–∫–∞) -->
          <svg
            class="tomato3d__progress"
            viewBox="0 0 360 360"
            aria-hidden="true"
          >
            <circle
              id="progressArc"
              cx="180"
              cy="180"
              r="168"
              fill="none"
              stroke="currentColor"
              stroke-width="10"
              stroke-linecap="round"
              style="transform: rotate(-90deg); transform-origin: 180px 180px"
            />
          </svg>

          <!-- –õ–ò–¶–û (–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —Å–ª–æ–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏) -->
          <div class="face" id="face">
            <div class="eye eye--l"><i class="shine"></i></div>
            <div class="eye eye--r"><i class="shine"></i></div>

            <!-- —Ä–æ—Ç ‚Äî SVG, —á—Ç–æ–±—ã –∫—Ä–∞—Å–∏–≤–æ –º–µ–Ω—è—Ç—å –∫—Ä–∏–≤—É—é -->
            <svg
              class="mouth"
              viewBox="0 0 200 100"
              preserveAspectRatio="xMidYMid meet"
            >
              <path
                id="mouthPath"
                d="M30 60 Q100 95 170 60"
                fill="none"
                stroke="#1a1a1a"
                stroke-width="12"
                stroke-linecap="round"
              />
            </svg>
          </div>
        </button>

        <div class="readout">
          <div id="time" class="time">25:00</div>
          <div id="phase" class="phase">–û—Ç–¥—ã—Ö–∞–µ–º üòå</div>
        </div>
      </section>

      <footer class="credit" aria-hidden="true"></footer>
    </main>

    <!-- Off-canvas –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <aside id="settingsPanel" class="panel" aria-hidden="true">
      <div class="panel__head">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <button id="closeSettings" class="icon-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          ‚úï
        </button>
      </div>

      <div class="panel__body">
        <div class="setting">
          <label class="setting__label">–ü—Ä–µ—Å–µ—Ç</label>
          <select id="preset" class="sel">
            <option value="25-5">25 / 5</option>
            <option value="50-10">50 / 10</option>
            <option value="custom">–ö–∞—Å—Ç–æ–º‚Ä¶</option>
          </select>
        </div>

        <div id="customRow" class="setting hidden">
          <label class="setting__label">–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã</label>
          <div class="grid2">
            <label class="pill in">
              <span>–§–æ–∫—É—Å (–º–∏–Ω)</span>
              <input id="focusMin" type="number" min="1" max="120" value="25" />
            </label>
            <label class="pill in">
              <span>–ü–µ—Ä–µ—Ä—ã–≤ (–º–∏–Ω)</span>
              <input id="breakMin" type="number" min="1" max="60" value="5" />
            </label>
          </div>
          <button id="applyCustom" class="btn primary full">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>

        <div class="setting">
          <label class="setting__row">
            <span>–ê–≤—Ç–æ-–ø–µ—Ä–µ—Ö–æ–¥</span>
            <input id="autoToggle" class="switch" type="checkbox" checked />
          </label>
        </div>

        <div class="setting">
          <label class="setting__row">
            <span>–ó–≤—É–∫</span>
            <input id="soundToggle" class="switch" type="checkbox" checked />
          </label>
        </div>

        <div class="setting">
          <button id="resetBtn" class="btn ghost full">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </div>
    </aside>

    <div id="backdrop" class="backdrop" aria-hidden="true"></div>

    <!-- –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã (–±–µ–∑ 404) -->
    <audio
      id="sfxStart"
      preload="auto"
      src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGlin...AAAA"
    ></audio>
    <audio
      id="sfxEnd"
      preload="auto"
      src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAWGlin...AAAA"
    ></audio>

    <script type="module" src="./src/js/app.js"></script>
  </body>
</html>
